
## Holding Registers
|адрес|биты|наименование|тип|пояснения|default
|---|---|---|---|---|---|
0||адрес в сети|uint16|в пределах 1-247|1
1||скорость передачи данных [бит/с]|uint16|0 - 9600<br> 1 - 14400<br> 2 - 19200<br> 3 - 28800<br>4 - 38400<br>5 - 57600<br>6 - 76800<br>7 - 115200|9600
2||бит четности|uint16|0 - none<br> 1 - even<br> 2 - odd|none
3||стоп-бит|uint16|0 - один<br> 1 - два|один
4||сервисный режим|uint16|0x534D - вход<br> 0x0000 - выход|0x0000
5||сохранить настройки|uint16|доступно только в сервисном режиме<br>0x5356 - записать<br> 0x0000 - успешно<br>0xFFFF - неуспешно| 0x0000
6||сброс максимального уровня ультрафиолета|uint16|доступно только в сервисном режиме<br>0x524D - код сброса<br>0x0000 - успешно<br>0xFFFF - неуспешно<br>вне сервисного режима обнуляется|0x0000
7||пароль для изменения фабричного номера|uint16|перед изменением установить|1207
8||фабричный номер|uint16|серийный номер изделия, указывается в паспорте|0
9||максимальная температура|uint16|доступно только в сервисном режиме<br>при превышении температуры этого значения отключаются ультразвук и лампы (в градусах цельсия)|55
10||минимальный уровень ультрафиолета|uint16|доступно только в сервисном режиме<br>при понижении интенсивности ниже этого значения загорается лампа внимание и появляется надпись "УРОВЕНЬ" (в процентах)|40
(11-20)|mask|1 в маске сбрасывает конкретную лампу, 0 бит для 1 лампы, - 9 бит для 10|


## Input Registers
|адрес|биты|наименование|тип|пояснения|default
|---|---|---|---|---|---|
0||код устройства|uint16||8
1||флаги состояния|bitsfield||
1|0|ультразвук работает|bool||
1|1|лампы работают|bool||
1|2|низкий уровень ультрафиалета|bool||
1|3|перегрев|bool||
1|4|ультразвук запущен|bool|он может и не работать, если есть перегрев, но когда температура восстановится при значении true этого флага, ультразвук запустится автоматически|
1|5|лампы запущен|bool|логи как, как для предыдущего флага, но для ламп|
1|6|есть не включившиеся лампы|bool|если при работающих лампах есть хотя бы одна не включившаяся, этот флаг - true|
1|7|включено дистанционное управление|bool|используются сухие контакты платы ЭО-101|
1|8-15|резерв|||
2||температура|uint16|текущая температура в градусах Цельсия|
3||уровень ультрафиалета|uint16|текущий уровень в процентах|
4||количество|bitsfield|структура со значениями конфигурационных параметров|5
4|0-7|количество ламп|uint8|количество ламп в установке, является суммой заданного количество ламп на плате контроллера и платах расширения|5
4|8-15|количество плат расширения|uint8|в пределах от 0 до 10|0
5||максимальный уровень ультрафиалета|uint16|максимально достигнутое значения уровня ультрафиолета на АЦП, необходим для определения текущего уровня в процентах от максимального|256
6||версия ПО|uint16|разделить на 10|10
7||версия библиотеки|uint16|разделить на 100|100
8-18||неработающие лампы|mask|1 в маске показывает неработающую лампу, 0 бит для 1 лампы, - 9 бит для 10<br>11 регистр для платы контроллера, 12-21 для плат расширений|
19-128||часы работы|uint16|текущее накопленое значение работающих часов для каждой лампы, первые 10 регистров для платы контроллера, затем 10 регистров для плат расширений|

## Регистры включения/отключения (записываются функцией 05 Force Single Coil)
|адрес|биты|наименование|тип|пояснения|default
|---|---|---|---|---|---|
0||ультразвук|enum|0 - отключение<br>0xFF00 - включение|
1||лампы|enum|0 - отключение<br>0xFF00 - включение|