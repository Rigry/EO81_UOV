
## Регистры управления (записываются функцией 16 Preset Multiple Registers)
|адрес|биты|наименование|тип|пояснения|default
|---|---|---|---|---|---|
0||настройки обмена|bitsfield|расшивровка далее|0
0|0|включение проверки|bool|включает проверку|false
0|1|тип проверки|enum|0 - четность<br> 1 - нечетность|четность
0|2|количество бит данных|enum|0 - 8 бит|8 бит (другие не поддерживаются)
0|3-4|количество стоп бит|enum|00 - 1 бит<br/> 01 - 2 бита|1 бит
0|5-7|будрейт|enum|000 - 9600 бод<br> 001 - 14400<br> 010 - 19200<br> 011 - 28800<br>100 - 38400<br>101 - 57600<br>110 - 76800<br>111 - 115200|9600
0|8-15|резерв
1||адрес в сети|uint16|в пределах 1-255|1
2||пароль для изменения серийного номера|uint16|перед изменением установить|208
3||фабричный номер|uint16|серийный номер изделия, указывается в паспорте|0
4||максимальная температура|uint16|при превышении температуры этого значения отключаются ультразвук и лампы (в градусах цельсия)|55
5||минимальный уровень ультрафиалета|uint16|при понижении интенсивности ниже этого значения загорается лампа внимание и появляется надпись "УРОВЕНЬ" (в процентах)|40
6||количество ламп на плате контроллера|uint16|в пределах 1-10|5
7||максимальный уровень ультрафиалета|uint16|значение формируется автоматически при работе ламп, этот регистр позволяет сбросить значение на любое другое, если установлены лампы с меньшей интенсивностью и максимальное значение более не достигнуть|256
8-18||сброс часов ламп для платы контроллера(8) и для плат расширения(9-18)|mask|1 в маске сбрасывает конкретную лампу, 0 бит для 1 лампы, - 9 бит для 10|


## Регистры данных (читаются функцией 03 Read Holding Registers)
|адрес|биты|наименование|тип|пояснения|default
|---|---|---|---|---|---|
0||код устройства|uint16|см. ЭО-76|8
1||фабричный номер|uint16|серийный номер изделия, указывается в паспорте|0
2||настройки обмена|bitsfield|расшивровка см адрес 0 в регистрах управления|0
3||адрес в сети|uint16|в пределах 1-255|1
4||флаги состояния|bitsfield||
4|0|ультразвук работает|bool||
4|1|лампы работают|bool||
4|2|низкий уровень ультрафиалета|bool||
4|3|перегрев|bool||
4|4|ультразвук запущен|bool|он может и не работать, если есть перегрев, но когда температура восстановится при значении true этого флага, ультразвук запустится автоматически|
4|5|лампы запущен|bool|логи как, как для предыдущего флага, но для ламп|
4|6|есть не включившиеся лампы|bool|если при работающих лампах есть хотя бы одна не включившаяся, этот флаг - true|
4|7|поток насоса|bool|false - нет потока, true - есть поток|
4|8|режим работы|bool|false - ручной, true - по насосу|
4|9-15|резерв|||
5||температура|uint16|текущая температура в градусах Цельсия|
6||максимальная температура|uint16|при превышении температуры этого значения отключаются ультразвук и лампы (в градусах цельсия)|55
7||уровень ультрафиалета|uint16|текущий уровень в процентах|
8||минимальный уровень ультрафиалета|uint16|при понижении интенсивности ниже этого значения загорается лампа внимание и появляется надпись "УРОВЕНЬ" (в процентах)|40
9||количество|bitsfield|структура со значениями конфигурационных параметров|5
9|0-7|количество ламп|uint8|количество ламп в установке, является суммой заданного количество ламп на плате контроллера и платах расширения|5
9|8-15|количество плат расширения|uint8|в пределах от 0 до 10|0
10||максимальный уровень ультрафиалета|uint16|максимально достигнутое значения уровня ультрафиалета на АЦП, необходим для определения текущего уровня в процентах от максимального|256
11-21||неработающие лампы|mask|1 в маске показывает неработающую лампу, 0 бит для 1 лампы, - 9 бит для 10<br>11 регистр для платы контроллера, 12-21 для плат расширений|
22-131||часы работы|uint16|текущее накопленое значение работающих часов для каждой лампы, первые 10 регистров для платы контроллера, затем 10 регистров для плат расширений|

## Регистры включения/отключения (записываются функцией 05 Force Single Coil)
|адрес|биты|наименование|тип|пояснения|default
|---|---|---|---|---|---|
0||ультразвук|enum|0 - отключение<br>0xFF00 - включение|
1||лампы|enum|0 - отключение<br>0xFF00 - включение|